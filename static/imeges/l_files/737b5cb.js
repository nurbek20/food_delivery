(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{502:function(e,t,r){var content=r(505);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(13).default)("2289ad49",content,!0,{sourceMap:!1})},504:function(e,t,r){"use strict";r(502)},505:function(e,t,r){var n=r(12)(!1);n.push([e.i,'.bk-dish-card .bk-price{font:500 18px/140% Rotonda}.bk-dish-card{display:flex;flex-direction:column;position:relative}@media(hover:hover){.bk-dish-card{align-items:center;text-align:center;border-radius:20px;padding:30px}.bk-dish-card:hover{background-color:#fff}.bk-dish-card:hover:after{opacity:1}.bk-dish-card:hover .bk-price{color:#fff}.bk-dish-card:after{font:500 16px/120% Rotonda;content:"Подробнее";opacity:0;color:#d62300;margin-top:15px}}.bk-dish-card .bk-price{margin-top:15px;background:#ff8720;color:#f5ebdc;border-radius:20px;padding:6px 20px}@media(max-width:767px){.bk-dish-card{padding:0 16px 10px;border-bottom:1px solid #d7c7b5;display:grid;grid-template-columns:130px 1fr;align-items:center;grid-gap:0 12px;gap:0 12px}.bk-dish-card .bk-price{font:500 14px/120% Rotonda;align-self:flex-start;width:-webkit-max-content;width:-moz-max-content;width:max-content}}.bk-dish-card__image{width:220px;height:220px;background-size:contain;background-position:50%;background-repeat:no-repeat}@media(max-width:767px){.bk-dish-card__image{width:130px;height:130px;grid-row:span 3}}.bk-dish-card__title{font-size:20px;line-height:120%;flex-grow:1}@media(max-width:767px){.bk-dish-card__title{align-self:flex-end;font-weight:400}}.bk-dish-card__description{display:none}@media(max-width:767px){.bk-dish-card__description{display:block;font:12px/14px Rotonda;color:#87604f}}.bk-dish-card__count{position:absolute;top:5px;left:5px;display:flex;align-items:center;justify-content:center;background-color:#502314;color:#f5ebdc;width:64px;height:64px;border-radius:64px;font-size:26px}@media(max-width:767px){.bk-dish-card__count{width:32px;height:32px;border-radius:50%;top:auto;left:16px;bottom:16px;font-size:18px;line-height:22px}}',""]),e.exports=n},509:function(e,t,r){"use strict";var n=r(26),o=(r(6),r(73),r(46),r(118),r(120),r(50),r(28),r(334),r(121),r(64),r(39),r(4),r(102),{props:["item","highlightText","categoryId","subCategoryId"],computed:{image:function(){var e=this.item,t=e.kiosk_image,r=e.image_256,o=e.dishes,image=t||r;if(!image&&o){var c=Object(n.a)(o,1)[0];image=null==c?void 0:c.image_256}return image},shortDescription:function(){var e=this.item.description,t=(e||"").split(" ");return t.length>11?"".concat(t.slice(0,11).join(" "),"..."):e},name:function(){var e=this.highlightText,t=this.item.name,r=new RegExp(e,"gi");return e?t.replace(r,(function(e){return"<span>".concat(e,"</span>")})):t},category:function(){var e=this.$store,t=this.$route,r=e.getters["menu/categories"];if(r)return r.find((function(e){return e.id==t.params.id}))},countInCart:function(){var e=this.$store,t=this.item;return e.state.ordering.order.dishes.reduce((function(e,r){return r.dish.id!==t.id?e:e+r.order.count}),0)}},components:{Price:r(47).a},methods:{createDishOrder:function(){var e=this.$gtm,t=this.item,r=this.category,n=this.createOrder,o=this.$route,c=this.$modal,d=this.categoryId,l=this.subCategoryId,source=o.name,h=this.$store.state.receives,m=h.restaurant,address=h.address,x=h.deliveryInfo;e.sendEvent({event:"gtm-ee-event",eventCategory:"product listing",eventAction:"".concat("index"==source?"coupon":"product"," click"),eventLabel:"".concat(t.name," | ").concat(t.id),additionalFields:{ecommerce:{actionField:{action:"click",list:"Главная. ".concat((null==r?void 0:r.name)||"Купоны")},products:[{dimension6:t.crowns?"crowns":"normal",id:t.id,name:t.name,price:parseFloat((t.price/100).toFixed(2)),quantity:1,variant:null!=r&&r.name?"product":"coupon"}]}}}),m||address&&2!=(null==x?void 0:x.status)?n(t,source,d,l):c("receive-types")}}}),c=(r(504),r(1)),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"bk-dish-card",class:{"bk-dish-card--grouped":e.item.is_group},on:{click:e.createDishOrder}},[r("div",{staticClass:"bk-dish-card__image",style:{"background-image":"url("+e.image+")"}}),e._v(" "),r("div",{staticClass:"bk-dish-card__title",domProps:{innerHTML:e._s(e.item.is_group&&e.item.size_name?e.item.size_name:e.name)}}),e._v(" "),r("div",{staticClass:"bk-dish-card__description"},[e._v("\n    "+e._s(e.shortDescription)+"\n  ")]),e._v(" "),e.countInCart?r("div",{staticClass:"bk-dish-card__count"},[e._v("\n    "+e._s(e.countInCart)+"\n  ")]):e._e(),e._v(" "),e.item.price?r("price",{attrs:{price:e.item.price}}):e._e()],1)}),[],!1,null,null,null);t.a=component.exports},581:function(e,t,r){"use strict";r.r(t);var n=r(26),o=(r(56),r(28),r(102),r(509)),c=r(208),d={components:{DishCard:o.a,Loader:c.a},computed:{currentCategory:function(){var e=this.$store.getters["menu/fullCategories"]||[];return Object(n.a)(e,1)[0]}},watch:{coupons:{handler:function(e,t){var r=this.$gtm;null!=e&&e.dishes&&t&&r.sendEvent({event:"gtm-ee-event",eventCategory:"product listing",eventAction:"coupon show",eventLabel:"Главная. Купоны",eventNonInteraction:!0,additionalFields:{ecommerce:{currencyCode:"RUB",impressions:e.dishes.map((function(e){return{id:e.id,list:"Главная. Купоны",name:e.name,price:parseFloat((e.price/100).toFixed(2)),quantity:1,dimension6:e.crowns?"crowns":"normal",variant:"coupons"}}))}}})},immediate:!0}}},l=r(1),component=Object(l.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"bk-category"},[r("div",{staticClass:"bk-content-wrapper"},[r("client-only",[e.currentCategory?[r("div",{staticClass:"bk-category__title"},[e._v("\n          "+e._s(e.currentCategory.name)+"\n        ")]),e._v(" "),r("div",{staticClass:"bk-dishes"},[e.currentCategory.dishes&&e.currentCategory.dishes.length?e._l(e.currentCategory.dishes,(function(t){return r("dish-card",{key:t.id,attrs:{item:t,categoryId:e.currentCategory.id}})})):e._e()],2)]:r("loader")],2)],1)])}),[],!1,null,null,null);t.default=component.exports}}]);